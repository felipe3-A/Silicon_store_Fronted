<div class="container my-4">
  <h2 class="text-center mb-4">Producto Seleccionado</h2>
  <div class="row">
    <!-- Columna de miniaturas -->
    <div class="col-md-2 text-center overflow-auto">
      <ng-container *ngIf="galeriaImagenes.length > 0">
        <div *ngFor="let imagen of galeriaImagenes; let i = index" class="mb-3">
          <img
            [src]="imagen || 'https://via.placeholder.com/100'"
            class="img-thumbnail clickable-image"
            alt="Miniatura del producto"
            (click)="cambiarImagenPrincipal(i)"
          />
        </div>
      </ng-container>
    </div>

    <!-- Columna de imagen principal y detalles -->
    <div class="col-md-7">
      <div class="card shadow-sm border-0">
        <img
          [src]="imagenPrincipal || 'https://via.placeholder.com/500'"
          class="card-img-top rounded-3 img-fluid"
          alt="Imagen principal del producto"
        />
        <div class="card-body" *ngIf="productoListado[0]">
          <h2 class="card-title text-primary fw-bold">
            {{ productoListado[0]?.nombre_producto }}
          </h2>
          <p class="text-start text-dark">
            <strong>Descripción:</strong> {{ productoListado[0]?.descripcion_producto }}
          </p>
          <p class="text-start text-secondary">
            <strong>Referencia:</strong> {{ productoListado[0]?.envio_producto }}
          </p>
          <p class="text-success fw-bold">
            <strong>Precio:</strong> ${{ productoListado[0]?.precio_producto }}
          </p>
          <p class="text-start text-secondary">
            <strong>Cantidad:</strong> {{ productoListado[0]?.cantidad_producto }}
          </p>
          <p class="text-start text-secondary">
            <strong>Garantía:</strong> {{ productoListado[0]?.garantia_producto }}
          </p>
          <p class="text-start text-secondary">
            <strong>Categoría:</strong> {{ productoListado[0]?.id_categoria }}
          </p>
        </div>
        <div class="card-footer d-flex justify-content-between align-items-center">
          <button class="btn btn-primary d-flex align-items-center" (click)="anadirCarrito()">
            <i class="bi bi-cart-plus me-2"></i>Añadir al Carrito
          </button>
          <button
            [class]="esFavorito ? 'btn btn-danger' : 'btn btn-outline-danger'"
            (click)="marcarFavorito()"
          >
            <i [class]="esFavorito ? 'bi bi-heart-fill me-2' : 'bi bi-heart me-2'"></i>
            {{ esFavorito ? 'Eliminar Favorito' : 'Favorito' }}
          </button>
        </div>
      </div>
    </div>

    <!-- Columna de logo de la marca -->
    <div class="col-md-3 text-center d-flex align-items-center justify-content-center">
      <div>
        <img
          *ngIf="logoMarca"
          [src]="logoMarca"
          alt="Logo de la marca"
          class="img-fluid"
          style="max-width: 150px;"
        />
        <p class="mt-3 fw-bold">{{ productoListado[0]?.id_marca }}</p>
      </div>
    </div>
  </div>
</div>
